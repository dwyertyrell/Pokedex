let pokemonRepository=function(){let t=[],e=document.getElementById("modal-container");function n(e){"object"==typeof e&&t.push(e)}function i(t){let e=t.detailsUrl;return fetch(e).then((function(t){return t.json()})).then((function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.imageBack=e.sprites.back_default,t.imageShiny=e.sprites.front_shiny,t.type=e.types.map((t=>t.type.name))})).catch((function(t){console.error(t)}))}function o(){e.classList.remove("is-visible")}function s(t){i(t).then((function(){!function(t){let n=$(".modal-body"),i=$(".modal-title");i.empty(),n.empty();let o=$("<h1>"+t.name+"</h1>"),s=$('<img class="modal-img" style="width: 30%">');s.attr("src",t.imageUrl);let a=$('<img class= "modal-img" style= "width: 30%">');a.attr("src",t.imageBack);let l=$('<img class= modal-img style= "width: 30%">');l.attr("src",t.imageShiny);let c=$("<p>Height :"+t.height+" m</p>"),d=$("<p>Type(s) :"+t.type+"</p>");i.append(o),n.append(s),n.append(a),n.append(l),n.append(c),n.append(d),e.classList.add("is-visible"),e.classList.add("show")}(t)}))}return window.addEventListener("keydown",(t=>{"Escape"===t.key&&e.classList.contains("is-visible")&&o()})),e.addEventListener("click",(t=>{t.target===e&&o()})),$(".close").on("click",(t=>{e&&o()})),{add:n,getAll:function(){return t},addListItem:function(t){let e=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("list-group-item");let i=document.createElement("button");i.innerText=t.name,i.classList.add("button"),i.classList.add("btn"),i.classList.add("btn-light"),i.setAttribute("data-toggle","modal"),n.appendChild(i),e.appendChild(n),i.addEventListener("click",(function(){s(t)}))},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?imit=150").then((function(t){return t.json()})).then((function(t){t.results.forEach((function(t){n({name:t.name,detailsUrl:t.url})}))})).catch((function(t){console.error(t)}))},loadDetails:i,showDetails:s}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(t){pokemonRepository.addListItem(t)}))}));